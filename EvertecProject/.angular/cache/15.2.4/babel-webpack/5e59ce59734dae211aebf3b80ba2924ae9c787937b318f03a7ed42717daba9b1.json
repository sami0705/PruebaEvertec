{"ast":null,"code":"import { FormGroup, FormControl, Validators } from '@angular/forms';\nimport { DatePipe } from '@angular/common';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../servicios/api-evertec.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"../../Common/header/header.component\";\nimport * as i6 from \"../../Common/footer/footer.component\";\nfunction EditComponent_div_14_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" El nombre es requerido. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EditComponent_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, EditComponent_div_14_div_1_Template, 2, 0, \"div\", 6);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.editForm.get(\"name\").errors.required);\n  }\n}\nexport class EditComponent {\n  constructor(activerouter, router, api) {\n    this.activerouter = activerouter;\n    this.router = router;\n    this.api = api;\n    this.editForm = new FormGroup({\n      name: new FormControl(' ', [Validators.required]),\n      lastName: new FormControl(''),\n      birthdate: new FormControl(''),\n      photo: new FormControl(''),\n      idMaritalStatus: new FormControl(1),\n      haveBrothers: new FormControl(false)\n    });\n  }\n  ngOnInit() {\n    this.getUser();\n  }\n  getUser() {\n    let userId = Number(this.activerouter.snapshot.paramMap.get('id'));\n    this.api.getUser(userId).subscribe(data => {\n      this.inforUser = data;\n      const datePipe = new DatePipe('en-CO');\n      this.editForm.setValue({\n        'name': this.inforUser.name,\n        'lastName': this.inforUser.lastName,\n        'birthdate': datePipe.transform(this.inforUser.birthdate, 'dd/MM/yyyy'),\n        'photo': this.inforUser.photo,\n        'idMaritalStatus': this.inforUser.idMaritalStatus,\n        'haveBrothers': this.inforUser.haveBrothers\n      });\n    });\n  }\n  putDataForm(form) {\n    form.name = form.name ?? ''; // Proporcionar una cadena vacía si name es null\n    let userId = Number(this.activerouter.snapshot.paramMap.get('id'));\n    this.api.putUser(form, userId).subscribe(data => {\n      console.log(data);\n    });\n  }\n}\nEditComponent.ɵfac = function EditComponent_Factory(t) {\n  return new (t || EditComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.ApiEvertecService));\n};\nEditComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: EditComponent,\n  selectors: [[\"app-edit\"]],\n  decls: 36,\n  vars: 2,\n  consts: [[1, \"container\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"row\", \"row-centered\", \"form-group\"], [1, \"col-lg-6\", \"col-md-6\", \"col-sm-12\", \"col-xs-12\", \"col-centered\"], [\"type\", \"image\", \"formControlName\", \"photo\", 1, \"form-control\"], [\"type\", \"text\", \"formControlName\", \"name\", 1, \"form-control\"], [4, \"ngIf\"], [\"type\", \"text\", \"formControlName\", \"lastName\", \"required\", \"\", 1, \"form-control\"], [\"type\", \"date\", \"formControlName\", \"birthdate\", \"required\", \"\", 1, \"form-control\"], [1, \"col-lg-3\", \"col-md-3\", \"col-sm-6\", \"col-xs-6\", \"col-centered\"], [\"type\", \"image\", \"formControlName\", \"idMaritalStatus\", \"required\", \"\", 1, \"form-control\"], [\"type\", \"image\", \"formControlName\", \"haveBrothers\", \"required\", \"\", 1, \"form-control\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\"]],\n  template: function EditComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"app-header\");\n      i0.ɵɵelementStart(1, \"div\", 0)(2, \"form\", 1);\n      i0.ɵɵlistener(\"ngSubmit\", function EditComponent_Template_form_ngSubmit_2_listener() {\n        return ctx.putDataForm(ctx.editForm.value);\n      });\n      i0.ɵɵelementStart(3, \"div\", 2)(4, \"div\", 3)(5, \"label\");\n      i0.ɵɵtext(6, \"Foto\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(7, \"input\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(8, \"div\", 3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"div\", 2)(10, \"div\", 3)(11, \"label\");\n      i0.ɵɵtext(12, \"Nombre\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(13, \"input\", 5);\n      i0.ɵɵtemplate(14, EditComponent_div_14_Template, 2, 1, \"div\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"div\", 3)(16, \"label\");\n      i0.ɵɵtext(17, \"Apellido\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(18, \"input\", 7);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(19, \"div\", 2)(20, \"div\", 3)(21, \"label\");\n      i0.ɵɵtext(22, \"Fecha de Nacimiento\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(23, \"input\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"div\", 9)(25, \"label\");\n      i0.ɵɵtext(26, \"Estado Civil\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(27, \"input\", 10);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(28, \"div\", 9)(29, \"label\");\n      i0.ɵɵtext(30, \"Tiene Hijos\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(31, \"input\", 11);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(32, \"div\")(33, \"button\", 12);\n      i0.ɵɵtext(34, \"Guardar\");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelement(35, \"app-footer\");\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"formGroup\", ctx.editForm);\n      i0.ɵɵadvance(12);\n      i0.ɵɵproperty(\"ngIf\", ctx.editForm.get(\"name\").invalid && (ctx.editForm.get(\"name\").dirty || ctx.editForm.get(\"name\").touched));\n    }\n  },\n  dependencies: [i3.NgIf, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.FormGroupDirective, i4.FormControlName, i5.HeaderComponent, i6.FooterComponent],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["FormGroup","FormControl","Validators","DatePipe","i0","EditComponent","constructor","activerouter","router","api","name","required","lastName","birthdate","photo","idMaritalStatus","haveBrothers","ngOnInit","getUser","userId","Number","snapshot","paramMap","get","subscribe","data","inforUser","datePipe","editForm","setValue","transform","putDataForm","form","putUser","console","log","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\niyir\\Documents\\GitHub\\PruebaEvertec\\EvertecProject\\src\\app\\vistas\\edit\\edit.component.ts","C:\\Users\\niyir\\Documents\\GitHub\\PruebaEvertec\\EvertecProject\\src\\app\\vistas\\edit\\edit.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport {Router, ActivatedRoute} from '@angular/router'\nimport { PersonI } from 'src/app/models/person.interface';\nimport { PersonDataI } from 'src/app/models/personData.interface';\nimport {ApiEvertecService} from '../../servicios/api-evertec.service';\nimport {FormGroup, FormControl, Validators} from '@angular/forms';\nimport { DatePipe } from '@angular/common';\n\n@Component({\n  selector: 'app-edit',\n  templateUrl: './edit.component.html',\n  styleUrls: ['./edit.component.css']\n})\n\n\nexport class EditComponent implements OnInit {\n \n  constructor(private activerouter:ActivatedRoute, private router:Router, private api:ApiEvertecService){\n\n  }\n\n  inforUser:PersonI | undefined;\n\n  editForm= new FormGroup({\n    name: new FormControl(' ',[Validators.required]),          \n    lastName:   new FormControl(''),     \n    birthdate:   new FormControl(''),    \n    photo:       new FormControl(''),    \n    idMaritalStatus: new FormControl(1),\n    haveBrothers:  new FormControl(false)      \n  })\n\nngOnInit(): void{\n  this.getUser();  \n}\n\ngetUser()\n{\n  let userId:number= Number(this.activerouter.snapshot.paramMap.get('id'));\n  \n  this.api.getUser(userId).subscribe(data =>{   \n    this.inforUser= data;\n    const datePipe = new DatePipe('en-CO');\n    \n    this.editForm.setValue({\n      'name': this.inforUser.name,\n      'lastName': this.inforUser.lastName,\n      'birthdate': datePipe.transform(this.inforUser.birthdate, 'dd/MM/yyyy'),\n      'photo':    this.inforUser.photo,\n      'idMaritalStatus':this.inforUser.idMaritalStatus,\n      'haveBrothers': this.inforUser.haveBrothers\n    })\n  })\n}\n\nputDataForm(form:PersonDataI)\n{\n  form.name = form.name ?? ''; // Proporcionar una cadena vacía si name es null\n  let userId:number= Number(this.activerouter.snapshot.paramMap.get('id'));\n\n  this.api.putUser(form,userId).subscribe(data =>{\n\n    console.log(data);\n  })\n}\n\n}\n","<app-header></app-header>\n\n<div class=\"container\">\n    <form [formGroup]=\"editForm\" (ngSubmit)=\"putDataForm(editForm.value)\">\n        <div class=\"row row-centered form-group\">\n            <div class=\"col-lg-6 col-md-6 col-sm-12 col-xs-12 col-centered\">\n               <label>Foto</label>\n                <input type=\"image\" class=\"form-control\" formControlName=\"photo\">\n            </div>\n            <div class=\"col-lg-6 col-md-6 col-sm-12 col-xs-12 col-centered\">\n             \n            </div>\n        </div>  \n        <div class=\"row row-centered form-group\">\n            <div class=\"col-lg-6 col-md-6 col-sm-12 col-xs-12 col-centered\">\n                <label>Nombre</label>\n                <input type=\"text\" class=\"form-control\" formControlName=\"name\">\n\n                <div *ngIf=\"editForm.get('name').invalid && (editForm.get('name').dirty || editForm.get('name').touched)\">\n                    <div *ngIf=\"editForm.get('name').errors.required\">\n                      El nombre es requerido.\n                    </div>\n                  </div>\n            </div>\n            <div class=\"col-lg-6 col-md-6 col-sm-12 col-xs-12 col-centered\">\n                <label>Apellido</label>\n                <input type=\"text\" class=\"form-control\" formControlName=\"lastName\" required>\n            </div>\n        </div>       \n        <div class=\"row row-centered form-group\">\n            <div class=\"col-lg-6 col-md-6 col-sm-12 col-xs-12 col-centered\">\n                <label>Fecha de Nacimiento</label>\n                <input type=\"date\" class=\"form-control\" formControlName=\"birthdate\" required>\n            </div>\n            <div class=\"col-lg-3 col-md-3 col-sm-6 col-xs-6 col-centered\">\n                <label>Estado Civil</label>\n                <input type=\"image\" class=\"form-control\" formControlName=\"idMaritalStatus\" required>             \n            </div>\n            <div class=\"col-lg-3 col-md-3 col-sm-6 col-xs-6 col-centered\">\n                <label>Tiene Hijos</label>\n                <input type=\"image\" class=\"form-control\" formControlName=\"haveBrothers\" required>\n            </div>\n        </div>\n        <div>        \n            <button type=\"button\" class=\"btn btn-primary\">Guardar</button>\n        </div>\n    </form>\n\n</div>\n\n\n<app-footer></app-footer>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}